{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nglobal.Buffer = global.Buffer || require('buffer').Buffer;\nimport { getViewerImages, getAllPatients } from \"./Components/Data\";\nimport DefaultViewDoc from \"./Components/Doctor/DefaultViewDoc\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  button: {\n    alignItems: 'center',\n    backgroundColor: '#DDDDDD',\n    padding: 10,\n    marginBottom: 10\n  }\n});\nvar App = function (_Component) {\n  _inherits(App, _Component);\n  var _super = _createSuper(App);\n  function App() {\n    var _this;\n    _classCallCheck(this, App);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      count: 0,\n      loading: true\n    };\n    _this.all_data = [];\n    _this.apasat = function () {\n      _this.setState({\n        count: _this.state.count + 1\n      });\n    };\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      getAllPatients().then(function (patient_list) {\n        patient_list.forEach(function (patient_id) {\n          getViewerImages(patient_id).then(function (all_data) {\n            _this2.all_data = all_data;\n            _this2.setState({\n              loading: false\n            });\n            _this2.forceUpdate();\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var images = [];\n      if (!this.state.loading) {\n        var key_id = 0;\n        images = this.all_data.map(function (data) {\n          return _jsx(Image, {\n            style: {\n              width: 200,\n              height: 200\n            },\n            source: {\n              uri: `data:image/jpeg;base64,${data}`\n            }\n          }, key_id++);\n        });\n      }\n      return _jsx(View, {\n        style: styles.container,\n        children: _jsx(DefaultViewDoc, {})\n      });\n    }\n  }]);\n  return App;\n}(Component);\n;\nexport default App;","map":{"version":3,"names":["React","Component","View","StyleSheet","Image","global","Buffer","require","getViewerImages","getAllPatients","DefaultViewDoc","jsx","_jsx","styles","create","container","flex","justifyContent","alignItems","button","backgroundColor","padding","marginBottom","App","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","count","loading","all_data","apasat","setState","_createClass","key","value","componentDidMount","_this2","then","patient_list","forEach","patient_id","forceUpdate","render","images","key_id","map","data","style","width","height","source","uri","children"],"sources":["/home/ion/Facultate/Licenta/MIV_expo/Mobile/App.tsx"],"sourcesContent":["import React, {Component} from 'react';\nimport {\n  View,\n  StyleSheet,\n  Image\n} from 'react-native';\nglobal.Buffer = global.Buffer || require('buffer').Buffer;\nimport {getViewerImages, getAllPatients} from './Components/Data';\nimport StudiesList from './Components/StudiesList';\nimport SearchBar from './Components/Search/SearchBar';\nimport { StatusBar } from 'expo-status-bar';\n\nimport DefaultViewDoc from './Components/Doctor/DefaultViewDoc';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  button: {\n    alignItems: 'center',\n    backgroundColor: '#DDDDDD',\n    padding: 10,\n    marginBottom: 10,\n  },\n});\n\n\nclass App extends Component {\n  state = {\n    count: 0,\n    loading: true\n  };\n  all_data:string[] =  [];\n  \n  apasat = () => {\n    this.setState({\n      count: this.state.count + 1,\n    });\n  };\n  componentDidMount(): void {\n    // console.log(\"Merge\");\n    \n    getAllPatients().then( (patient_list) => {\n      patient_list.forEach((patient_id) => {\n        getViewerImages(patient_id).then((all_data) => {\n          this.all_data = all_data;\n          this.setState({loading: false});\n          this.forceUpdate();\n        })\n      });\n    });\n  }\n  \n  render(): React.ReactNode {\n    // console.log(this.img_data);\n    let images: Element[] = [];\n    if(!this.state.loading)\n    {\n      let key_id = 0;\n      images = this.all_data.map((data) => {\n        return <Image key={key_id++} style={{ width: 200, height: 200 }} source={{ uri: `data:image/jpeg;base64,${data}` }}></Image>\n    });\n    }\n    // console.log(images);\n    return (\n      <View style={styles.container}>\n        {/* <TouchableOpacity \n        style={styles.button}\n        onPress={this.apasat}\n        >\n          <Text>Click me!</Text>\n        </TouchableOpacity> */}\n        {/* <StatusBar style='auto'></StatusBar> */}\n        {/* {this.state.loading && <Text>loading...</Text>} */}\n        {/* {images} */}\n        {/* <StudiesList></StudiesList> */}\n        <DefaultViewDoc />\n        {/* <Text>You clicked {this.state.count} times!</Text> */}\n      </View>\n    );\n  }\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}